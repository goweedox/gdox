<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset=UTF-8" />
  <% if controller.action_name == 'edit' %>
	  <% title = 'Edit Mode' %>
  <% elsif controller.action_name == 'show' %>
	  <% title = 'View Mode' %>
  <% end %>
  <title>Documentations : <%= title %></title>
	<link rel="icon" href="/images/icon.png" type="image/x-icon">

	<%= stylesheet_link_tag 'scaffold', 'dox_layout', 'dox_content', 'dox_extras', 'annotation'%>
	<%= javascript_include_tag :defaults %>
	<%= javascript_include_tag 'jquery-1.4.2.js' %>
  <%= javascript_include_tag 'screenstepslive.js' %>
	<%= javascript_include_tag 'jquery.ui.core.js', 'jquery.ui.widget.js', 'ui/jquery.ui.mouse.js','ui/jquery.ui.draggable.js', 'ui/jquery.ui.droppable.js' %>
	<%= javascript_include_tag 'jquery-annotate.js' %>

	<script type="text/javascript">
	$(function() {
		$("#draggable").draggable();
		$("#drag").draggable();
		$("#screenie_area").droppable({
			drop: function(event, ui) {
				$(this).addClass('ui-state-highlight').find('p').html('Dropped!');
			}
		});
	});
	</script>

	<script>
	$(document).ready(function(){
		function blackNote() {
			return $(document.createElement('span')).
				addClass('set-label')
		}
		$('#scr1').annotatableImage(function(annotation){
			return $(document.createElement('span')).
				addClass('set-label');
		}, {xPosition: 'left'});

		$('#scr2').annotatableImage(function(annotation){
			return $(document.createElement('span')).
				addClass('set-label');
		}, {xPosition: 'left'});

		$('#scr3').annotatableImage(function(annotation){
			return $(document.createElement('span')).
				addClass('set-label');
		}, {xPosition: 'left'});

		$('#scr4').annotatableImage(function(annotation){
			return $(document.createElement('span')).
				addClass('set-label');
		}, {xPosition: 'left'});

		$('#scr5').annotatableImage(function(annotation){
			return $(document.createElement('span')).
				addClass('set-label');
		}, {xPosition: 'left'});
	
		$('#nutmeg').annotatableImage(blackNote);
	
		$('#numberedNutmeg img').load(function(){
			$('#numberedNutmeg').addAnnotations(function(annotation){
				return $(document.createElement('span')).
					addClass('black circle note').html(annotation.position);
			},[
					{x: 0.3875, y: 0.3246, position: 4}, 
					{x: .57, y: .329, position: 2}
				]
			);
		});
	
		$('#labeledNutmeg').annotatableImage(function(annotation){
			return $(document.createElement('span')).
				addClass('set-label');
		}, {xPosition: 'left'});
	
		$('#serialize').click(function(event){
			event.preventDefault();
		
			$('#serializedOutput ul').empty();
			$.each($('#nutmeg span.note').seralizeAnnotations(), function(){
				$('#serializedOutput ul').append($(document.createElement('li')).html('<strong>x:</strong> ' + this.x + ' <strong>y:</strong> ' + this.y + ' <strong>response_time:</strong> ' + this.response_time + 'ms'));
			});

		});
	
		$('#doItHansel').click(function(event){
			event.preventDefault();
			$('#smallNutmeg').addAnnotations(blackNote, $('#nutmeg span.note').seralizeAnnotations());
		});
	});
	</script>

<!--
	<script type="text/javascript">
	$(document).ready(function(){
			function blackNote() {
				return $(document.createElement('span')).addClass('black circle note')
			}

			$('#demo').annotatableImage(blackNote);

			$('#demo').annotatableImage(function(annotation){
  			return $(document.createElement('span')).addClass('set-label');
			}, {xPosition: 'left'});
	});
	</script>
-->

  <script type="text/javascript" charset="utf-8">
    function getInfo() {
    domain_name = document.screensteps_info.domain.value;
    space_name = document.screensteps_info.space.value;
    
    //setting the domain name, space and username and password with api access
    ScreenStepsLiveSearchOptions = {
      domain: domain_name,
      space: space_name,
      update_element: "search_results",
      username: "codrschool",
      password: "codrschool",
      use_ssl: false
    }
    
    jQuery(document).ready(function($) {
      jQuery('#screenstepslive-search').submit(function(e){
	      e.preventDefault();
	      search_string = jQuery('#screenstepslive-search input#screenstepslive-search-field').val();
	      SearchScreenStepsLiveSpace(search_string);	
        
      })
    });
    <input type="text" id="screenstepslive-search-field" value="" name="text"></input>
   }
  </script>
</head>

<body>
<div id="header_wrapper">
  <div id="header">	
    <div id="menu" class="menu">	
      <%= render  :partial=> 'shared/headerDox' %>
    </div>
  </div>
</div>

  <div id="container">
		  <%= yield %>
  </div>

  <div id="footer">
    <%= render  :partial=> 'shared/footer' %>
  </div>

</body>
</html>
